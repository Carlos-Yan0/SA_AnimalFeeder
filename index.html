<!doctype html>
<html>
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB"
            crossorigin="anonymous"
        />
        <title>WebServer Alimentador Automatico</title>

        <style>
            * {
                margin: 0;
                padding: 0;
            }

            body,
            html {
                text-align: center;
                width: 100%;
                height: 100%;
            }
            
            body{background-color: #ededed;}
            
            .infos {
                display: flex;
                flex-direction: column;
                gap: 1rem;
                width: 100%;
                padding: 1rem;
            }
            
            .div-info {
                padding: 0.5rem;
                display: flex;
                flex-direction: row;
                align-items: center;
                justify-content: center;
                border-radius: 1rem;
                box-shadow: 0px 1px 1px rgba(3, 7, 18, 0.02),
                  0px 5px 4px rgba(3, 7, 18, 0.03),
                  0px 12px 9px rgba(3, 7, 18, 0.05),
                  0px 20px 15px rgba(3, 7, 18, 0.06),
                  0px 32px 24px rgba(3, 7, 18, 0.08);

            }
            
            .div-info p{margin: 0;}
            
            #info-refeicao {
                background-color: lightskyblue;
            }

            .grid {
                display: flex;
                flex-wrap: wrap;
                flex-direction: row;

                width: 44rem; /*Mude para alterar o grid */
                height: 44rem; /*Mude para alterar o grid */

                margin: 0 auto;
            }
            
            .body-p {
                background-color: white;
                margin: 1rem 0;
                padding: 2rem 0;
            }

            .gridbox {
                background-color: white;
                /* https://smoothshadows.com/#djEsMSw1LDAuMDgsMjQsMzIsMCwjMDMwNzEyLCNmM2Y0ZjYsI2ZmZmZmZiwy */
                box-shadow: 0px 1px 1px rgba(3, 7, 18, 0.02),
                  0px 5px 4px rgba(3, 7, 18, 0.03),
                  0px 12px 9px rgba(3, 7, 18, 0.05),
                  0px 20px 15px rgba(3, 7, 18, 0.06),
                  0px 32px 24px rgba(3, 7, 18, 0.08);

                height: 20rem;
                width: 20rem;
                color: black;
                margin: 1rem;
                border-radius: 1rem;

                display: flex;
                flex-direction: column;

                padding: 1rem;
                transition: ease-in-out .1s;
                
                border:3px solid transparent;
            }
            
            .gridbox:hover {transform: scale(1.02); border-color: aquamarine;}

            .img-racao {
                height: 16rem;
                width: 16rem;
            }

            .selecao {border-color: mediumaquamarine;}
            
            /*------------------------------------*
            NIVEIS DE RAÇÃO BASEADOS NA PORCENTAGEM
            *-------------------------------------*/
            
            /* +70% de ração */
            .nivel-alto{background-color: aquamarine;}
            
            /* entre 30% e 70% de ração */
            .nivel-medio{background-color: lightyellow;}
            
            /* - que 30% de ração */
            .nivel-baixo{background-color: indianred;}
            
            #status-racao {font-size: 2rem;}
        </style>
    </head>
    <body>
        <h1>Alimentador automatico 2000</h1>

        <div class="infos">
            <div id="info-porcentagem" class="div-info nivel-alto">
                <p><span id="status-racao">87%</span> de ração restante</p>
            </div>
            <div id="info-refeicao" class="div-info">
                <p>
                    Próxima referição programada para
                    <span id="status-racao">14h</span>
                </p>
            </div>
        </div>
        
        <p class="body-p">
            Selecione quanta ração deve ser despejada no pote do pet.
        </p>

        <div class="grid">
            <div id="despejoGrande" class="gridbox selecao">
                <div class="">
                    <img src="img/full.png" alt="" class="img-racao" />
                </div>
                <p class="opcao-racao">Pote cheio</p>
            </div>
            <div id="despejoMedio" class="gridbox">
                <div class="">
                    <img src="img/full.png" alt="" class="img-racao" />
                </div>
                <p class="opcao-racao">Pote ideal</p>
            </div>
            <div id="despejoLeve" class="gridbox">
                <div class="">
                    <img src="img/full.png" alt="" class="img-racao" />
                </div>
                <p class="opcao-racao">Pote raso</p>
            </div>
            <div id="despejoPersonalizado" class="gridbox">
                <div class="">
                    <img src="img/full.png" alt="" class="img-racao" />
                </div>
                <p class="opcao-racao">Quantia personalizada</p>
            </div>
        </div>
        
        <p class="body-p">
            Selecione em que horários a ração deve ser despejada para o pet.
        </p>
        
        <div class="grid">
            <div class="gridbox selecao">
                <div class="">
                </div>
                <p class="opcao-racao"></p>
            </div>
            <div class="gridbox">
                <div class="">
                </div>
                <p class="opcao-racao"></p>
            </div>
            <div class="gridbox">
                <div class="">
                </div>
                <p class="opcao-racao"></p>
            </div>
            <div class="gridbox">
                <div class="">
                </div>
                <p class="opcao-racao"></p>
            </div>
        </div>


        <script>
            
            function enviarRequisicao(url){
                fetch(url)
                .then(res => res.text())
                .then(txt => console.log("Resposta: ", txt))
            }

            const despejoLeve = document.getElementById("despejoLeve");
            const despejoMedio = document.getElementById("despejoMedio");
            const despejoGrande = document.getElementById("despejoGrande");
            const despejoPersonalizado = document.getElementById("despejoPersonalizado");

            let tipoDespejo;
            despejoLeve.addEventListener('click', () => tipoDespejo = "/despejoLeve");
            despejoMedio.addEventListener('click', () => tipoDespejo = "/despejoMedio");
            despejoGrande.addEventListener('click', () => tipoDespejo = "/despejoGrande");
            despejoPersonalizado.addEventListener('click', () => tipoDespejo = "/despejoPersonalizado");

            //Falta o ID obvio, mas tambem um botao de despejo
            const despejar = document.getElementById("");
            despejar.addEventListener('click', () => enviarRequisicao(tipoDespejo));

        </script>
    </body>
</html>
